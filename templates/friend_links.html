{% extends "base.html" %} {% block title %}Friend Links - lhz07's blog{%
endblock title %} {% block scripts %}
<script src="/static/js/submit_link.js" defer></script>
{% endblock scripts %} {% block content %}
<!-- Main content -->
<main class="flex-1 container mx-auto px-6 py-10 md:max-w-3xl">
  <div class="flex justify-center items-center mb-1">
    <h1 class="text-3xl font-bold dark:text-slate-200">友链</h1>
  </div>
  <div class="flex justify-end items-center mb-4">
    <button
      id="toggleFormBtn"
      class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 bg-white dark:bg-slate-600 dark:text-slate-200 dark:border-0 border border-gray-200 rounded-lg hover:text-gray-800 hover:shadow-md dark:hover:text-slate-50 transition-all duration-200 shadow-sm"
    >
      交换友链
    </button>
  </div>

  <div class="grid gap-6 sm:grid-cols-2">
    <!-- Friend Card -->
    {% for friend in friends %}
    <a
      href="{{friend.url}}"
      target="_blank"
      class="group block p-6 rounded-2xl border border-gray-200 bg-white dark:bg-slate-600 dark:border-0 shadow-sm hover:shadow-md transition duration-200"
    >
      <div class="flex items-center space-x-4">
        <img
          src="{{friend.avatar}}"
          alt="null"
          class="w-14 h-14 rounded-full border dark:border-slate-700 bg-white"
        />
        <div>
          <h2
            class="text-lg font-semibold dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition duration-200"
          >
            {{friend.name}}
          </h2>
          <p class="text-sm text-gray-600 dark:text-slate-200">
            {{friend.description}}
          </p>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</main>

<!-- Modal Overlay -->
<div
  id="modalOverlay"
  class="fixed inset-0 bg-black bg-opacity-50 z-50 opacity-0 flex pointer-events-none items-center justify-center p-4 transition-all duration-200"
>
  <!-- Modal Content -->
  <div
    id="modalContent"
    class="bg-white dark:bg-slate-800 rounded-2xl max-w-md w-full max-h-[calc(100vh-140px)] overflow-hidden shadow-2xl flex flex-col"
  >
    <!-- Modal Header -->
    <div
      class="px-6 py-4 border-b dark:border-0 border-gray-200 dark:bg-slate-700"
    >
      <div class="flex justify-between items-center">
        <h2 class="text-xl font-semibold text-gray-800 dark:text-slate-200">
          交换友链
        </h2>
        <button
          id="closeModalBtn"
          class="text-gray-400 hover:text-gray-600 dark:text-slate-300 dark:hover:text-slate-50 transition-colors duration-200"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
      </div>
    </div>
    <div class="overflow-y-auto flex-1">
      <!-- Friend Link Info -->
      <div
        class="px-6 py-4 bg-blue-50 dark:bg-slate-500 dark:border-0 border-b border-gray-200"
      >
        <div class="my-2 p-3 bg-white dark:bg-slate-600 rounded-lg">
          <p class="text-sm font-medium text-gray-700 dark:text-slate-100">
            本站信息：
          </p>
          <p class="text-xs text-gray-600 dark:text-slate-200 mt-1">
            名称: lhz07's Blog<br />
            头像: https://lhz07.com/static/img/avatar.webp<br />
            链接: https://lhz07.com<br />
            描述: Explicit is better than implicit, but readability also
            counts.<br />
          </p>
        </div>
      </div>

      <!-- Form -->
      <form id="friendLinkSubmitForm" class="px-6 py-4">
        <div class="space-y-4">
          <div>
            <label
              for="name"
              class="block text-sm font-medium text-gray-700 dark:text-slate-200 mb-1"
            >
              网站名称 <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="name"
              name="name"
              required
              autocomplete="off"
              class="w-full px-3 py-2 dark:text-slate-200 border dark:bg-slate-800 dark:border-slate-400 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
              placeholder="君の名は..."
            />
          </div>

          <div>
            <label
              for="url"
              class="block text-sm font-medium text-gray-700 dark:text-slate-200 mb-1"
            >
              网站链接 <span class="text-red-500">*</span>
            </label>
            <input
              type="url"
              id="url"
              name="url"
              required
              class="w-full px-3 py-2 dark:text-slate-200 border dark:bg-slate-800 dark:border-slate-400 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
              placeholder="https://example.com"
            />
          </div>

          <div>
            <label
              for="description"
              class="block text-sm font-medium text-gray-700 dark:text-slate-200 mb-1"
            >
              网站描述 <span class="text-red-500">*</span>
            </label>
            <textarea
              id="description"
              name="description"
              required
              rows="3"
              class="w-full px-3 py-2 dark:text-slate-200 border dark:bg-slate-800 dark:border-slate-400 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none"
              placeholder="一段话"
            ></textarea>
          </div>

          <div>
            <label
              for="avatar"
              class="block text-sm font-medium text-gray-700 dark:text-slate-200 mb-1"
            >
              头像链接 <span class="text-red-500">*</span>
            </label>
            <input
              type="url"
              id="avatar"
              name="avatar"
              required
              class="w-full px-3 py-2 dark:text-slate-200 border dark:bg-slate-800 dark:border-slate-400 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
              placeholder="https://example.com/avatar.png"
            />
          </div>

          <div>
            <label
              for="email"
              class="block text-sm font-medium text-gray-700 dark:text-slate-200 mb-1"
            >
              联系邮箱 <span class="text-red-500">*</span>
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              autocomplete="email"
              class="w-full px-3 py-2 dark:text-slate-200 border dark:bg-slate-800 dark:border-slate-400 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
              placeholder="your@example.com"
            />
          </div>
        </div>

        <!-- Form Actions -->
        <div
          class="flex gap-3 mt-6 pt-4 border-t border-gray-200 dark:border-slate-400"
        >
          <button
            type="button"
            id="cancelFormBtn"
            class="flex-1 px-4 py-2 dark:bg-slate-600 dark:text-slate-300 text-gray-600 dark:hover:text-slate-50 hover:text-gray-700 bg-gray-100 dark:border-0 border border-gray-200 rounded-lg font-medium shadow-sm hover:shadow-md transition duration-200"
          >
            取消
          </button>
          <button
            type="submit"
            class="flex-1 px-4 py-2 bg-white dark:bg-slate-600 dark:text-slate-100 dark:hover:text-blue-300 text-gray-700 border border-gray-200 dark:border-0 rounded-lg font-medium shadow-sm hover:shadow-md transition duration-200"
          >
            提交申请
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

{% endblock content %}
