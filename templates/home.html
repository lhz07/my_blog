{% extends "base.html" %} {% block head %}
<link
  rel="alternate"
  type="application/rss+xml"
  title="lhz07's blog"
  href="/index.xml"
/>
<title>lhz07's blog</title>{% endblock head %} {% block content %}
<!-- Main content -->
<main class="flex-1 container mx-auto px-6 py-10" style="max-width: 44rem">
  <div class="text-center mb-10">
    <h1 class="text-4xl font-bold mb-2 dark:text-gray-200">lhz07's Blog</h1>
    <h3 class="text-lg text-gray-600 dark:text-gray-300">
      Built with Rust and Actix-web
    </h3>
  </div>

  <div class="space-y-6">
    {% for fm in posts %}
    <a
      href="/posts/{{fm.file_name}}"
      class="group block p-6 rounded-2xl border border-gray-200 bg-white dark:bg-slate-600 dark:border-0 shadow-sm hover:shadow-md transition duration-200"
    >
      <div class="flex items-center space-x-6">
        <!-- 文章内容区域 -->
        <div class="flex-1 min-w-0">
          <h2
            class="text-2xl font-semibold dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 mb-3 transition duration-200"
          >
            {{fm.title}}
          </h2>
          <!-- Article summary -->
          <p class="text-gray-700 dark:text-slate-200 mb-4 line-clamp-3">
            {{fm.description}}
          </p>
          <!-- 文章信息 -->
          <div
            class="flex flex-wrap items-center text-sm text-gray-600 dark:text-slate-200 mb-4 gap-x-8 gap-y-2"
          >
            <span class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="24px"
                class="w-4 h-4 mr-1"
                fill="currentColor"
              >
                <path
                  d="M480-120q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-480q0-75 28.5-140.5t77-114q48.5-48.5 114-77T480-840q82 0 155.5 35T760-706v-54q0-17 11.5-28.5T800-800q17 0 28.5 11.5T840-760v160q0 17-11.5 28.5T800-560H640q-17 0-28.5-11.5T600-600q0-17 11.5-28.5T640-640h70q-41-56-101-88t-129-32q-117 0-198.5 81.5T200-480q0 117 81.5 198.5T480-200q95 0 170-57t99-147q5-16 18-24t29-6q17 2 27 14.5t6 27.5q-29 119-126 195.5T480-120Zm40-376 100 100q11 11 11 28t-11 28q-11 11-28 11t-28-11L452-452q-6-6-9-13.5t-3-15.5v-159q0-17 11.5-28.5T480-680q17 0 28.5 11.5T520-640v144Z"
                />
              </svg>
              {{fm.updated}}
            </span>
            <span class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="24px"
                fill="currentColor"
                class="w-4 h-4 mr-1"
              >
                <path
                  d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"
                />
              </svg>
              {{fm.author}}
            </span>
            <span class="flex items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="24px"
                fill="currentColor"
                class="w-4 h-4 mr-1"
              >
                <path
                  d="M520-496v-144q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640v159q0 8 3 15.5t9 13.5l132 132q11 11 28 11t28-11q11-11 11-28t-11-28L520-496ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"
                />
              </svg>
              {{fm.estimated_reading_time}} min read
            </span>
          </div>

          <!-- Tags -->
          {% if fm.tags and fm.tags|length > 0 %}
          <div class="flex flex-wrap gap-2">
            {% for tag in fm.tags %}
            <span
              class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-500 text-blue-800 dark:text-blue-100 hover:-translate-y-px shadow-sm hover:shadow-md transition duration-200"
              role="link"
              tabindex="0"
              onclick="event.stopPropagation(); event.preventDefault(); window.location.href='/search?tag={{tag}}'"
            >
              {{tag}}
            </span>
            {% endfor %}
          </div>
          {% endif %}
        </div>

        <!-- 图片区域 -->
        <div class="h-full hidden items-center sm:block">
          {% if fm.cover_image %}
          <img
            src="{{fm.cover_image}}"
            alt="{{fm.title}}"
            class="w-64 aspect-16/10 object-cover rounded-lg border border-gray-200 dark:border-slate-500"
            onerror="this.style.display='none'"
          />
          {% else %}
          <!-- 默认占位图或图标 -->
          <img
            src="/static/img/default.svg"
            alt="{{fm.title}}"
            class="w-64 h-full aspect-video object-cover rounded-lg border border-gray-200"
          />
          {% endif %}
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
  <div class="mt-14 flex items-center space-x-6 justify-center">
    <a
      href="{% if current_page > 1 %}/pages/{{current_page - 1}}{% endif %}"
      class="page-btn{% if current_page == 1 %} disabled{% endif %}"
    >
      Prev
    </a>
    {% for page in range(start=1, end=page_count+1) %}
    <a
      class="w-10 h-10 {% if page == current_page %}text-blue-600 dark:text-blue-300{% else %}dark:text-slate-100 text-gray-600{% endif %} inline-flex items-center justify-center text-sm font-medium dark:border-0 dark:bg-slate-600 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-800 hover:shadow-md dark:hover:text-white dark:hover:bg-slate-500 transition duration-200 shadow-sm"
      href="/pages/{{page}}"
    >
      {{page}}
    </a>
    {% endfor %}
    <a
      href="{% if current_page < page_count %}/pages/{{current_page + 1}}{% endif %}"
      class="page-btn{% if current_page >= page_count %} disabled{% endif %}"
    >
      Next
    </a>
  </div>
</main>
{% endblock content %}
